'''
REQUIRED: facebook_page_url
REQUIRED: facebook_app_id
'''

{% load sekizai_tags filertags %}

{% comment %}
<!-- SmartSnippets Variables
facebook_page_url = TextField
facebook_app_id = TextField
facebook_show_tabs = TextField
override_600px_height = TextField
widget_css_id = TextField
widget_css_classes = TextField
facebook_show_facepile = Select|values=true,false
-->
{% endcomment %}

<div id="{{widget_css_id}}" class="text-plugin clearfix box loading-facebook-feed {{widget_css_classes}}" style="visibility: hidden; padding: 0; line-height: 0;">    
    
        <div id="fb-root"></div>
        <script>(function(d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s); js.id = id;
            js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.4&appId={{facebook_app_id}}";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));</script>
    
            <div class="fb-page" data-href="{{facebook_page_url}}" data-tabs="{{facebook_show_tabs|default:'timeline'}}" data-width="500" data-height="{{override_600px_height|default:'600'}}" data-small-header="false" data-adapt-container-width="true" data-hide-cover="true" data-show-facepile="{{facebook_show_facepile|default:'true'}}"><div class="fb-xfbml-parse-ignore"><blockquote cite="https://www.facebook.com/klrntv"><a href="https://www.facebook.com/klrntv">KLRN Public Television</a></blockquote></div></div>

</div>

{% addtoblock "js" %}
<script type="text/javascript"> 
    
    setTimeout(function(){
    	document.querySelector('.loading-facebook-feed').style.visibility = 'visible';
    }, 1500);    

</script> 
{% endaddtoblock %}